import{l as j,m as p,o as g,u as d,d as C,a as S,b,e as k,j as e,C as u,p as y,T as v,P as I,g as l,q as x}from"./index-C-sK9tWO.js";import{C as w}from"./ClassroomGrid-jHaf7UAT.js";import{H as f}from"./H4-DpEsmjiN.js";import{S as E}from"./SecondaryButton-Dk2dblrN.js";const h=j("students/checkIsAssigned",async(c,{getState:a,dispatch:t})=>{const s=a();t(p());const r=[];s.grid.deskSetup.forEach((n,m)=>{n.forEach((o,i)=>{o.deskState===1&&o.studentId&&r.push(o)})}),console.log(r),r.forEach(n=>{n.studentId&&t(g({id:n.studentId,val:!0}))})}),O=()=>{const c=d(i=>i.grid.numberOfDesks),a=d(C).length,t=S(),s=b(),{showModal:r,hideModal:n}=k(),m=()=>{t(l(1))},o=()=>{if(c===0){r({title:s("common.error"),component:e.jsx("div",{className:"mb-2 text-text-muted",children:s("modals.error.errors.noDesk")})});return}if(c<a){r({title:s("common.warning"),component:e.jsx("div",{className:"mb-2 text-text-muted",children:s("modals.error.errors.notEnoughDesks")}),cancelText:s("common.cancel"),confirmText:s("common.continueAnyways"),onConfirm:()=>{n(),t(h()),t(x()),t(l(3))},onCancel:n});return}t(h()),t(x()),t(l(3))};return e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(w,{}),e.jsxs("div",{className:"flex flex-row justify-between mt-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(f,{value:`${s("screens.create.numberOfTables")} ${c}`}),e.jsx(f,{value:`${s("screens.create.numberOfStudents")} ${a}`})]}),e.jsx(E,{onClick:()=>t(y()),children:s("common.reset")})]})]})}),e.jsxs(u,{className:"flex flex-row justify-between",children:[e.jsx(v,{onClick:m,children:s("common.goBack")}),e.jsx(I,{onClick:o,children:s("screens.create.create")})]})]})};export{O as default};
